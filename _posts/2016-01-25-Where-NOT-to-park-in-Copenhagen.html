---
layout: post
title:  "Where NOT to park in Copenhagen"
date:   2016-01-25
---
<meta charset="UTF-8">

Pretty much every major danish city now has their own open data portal, but so far the majority of the published data is kinda boring - some of the data is even being published solely as pdf?!? But I guess its a start! 

<br>
<br>

A while back I randomly stumbled upon a dataset that I actually did find pretty interesting but strangely it isn't a part of any of the open data portals. The dataset contains parking tickets issued by the municipality of Copenhagen in 2013 and can be found <a href="https://www.google.com/fusiontables/DataSource?docid=18JRK4EbbQWVA9hRdMmwMpF281qFnkFPh11cVigI#rows:id=1">here</a> in a public Google Fusion table. I was pretty suspicious of why and how the data ended up in a fusion table, so I emailed Center for Parking in Copenhagen and although they had no clue how the data got there, they did crosscheck it and it seems to be legit. Well, that's good enough for me to play around with it!

<br>
<br>
I wanted to map the data, so I needed to pull all addresses in Copenhagen and their corresponding latitude and longitude coordinates from <a href="http://dawa.aws.dk/">dawa.aws.dk</a>. When that was done I could join the addresses to the parking data and be ready to map the data using the ggmap package. The result is shown below

<br>
<br>

<img src="https://raw.githubusercontent.com/madsboending/madsboending.github.io/master/assets/img/cphparking.png" alt="map">

<br>
<br>

Not surprisingly it shows that the largest concentration of parking tickets is centered around <i>Indre by</i> but also <i>Nørrebro</i> and <i>Amager</i> sees a fair amount of parking tickets. Is also clear that Frederiksberg is an independent municipality with its own parking control which is why it doesn't shows up on the map.  

<br>
<br>

It may be more interesting to investigate different types of parkings violations which is why I created the simple shiny app below (encoding danish characters is btw. mindblowingly annoying). The app lets you select among the different types of violations and returns a barchart of the top 10 streets with most violations.

<br>
<br>

<iframe src="https://madsboending.shinyapps.io/parkingviolations/" style="border: none; width: 800px; height: 500px"></iframe>

<br>
<br>

As you can see Dronningens Tværgade is by far the highest grossing street in 2013 with 6427 tickets each costing 510 kr. which adds up to about 3.2 mio.kr. just for that particular street. According to the data the municipality of Copenhagen issued about 280.000 parking tickets in total in 2013 at a value of 146 mio.kr.

<br>
<br>
I will put the code for everything on github later...

<br>
<br>

<div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES * * */
    var disqus_shortname = 'madsboending';

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
