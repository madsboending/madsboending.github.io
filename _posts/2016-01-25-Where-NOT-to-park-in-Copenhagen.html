---
layout: post
title:  "Where NOT to park in Copenhagen"
date:   2016-01-25
---
<meta charset="UTF-8">

So, my girlfriend and I recently became the proud owners of our first house in Svenstrup. Naturally, the process of bidding on and buying a house sparked some curiosity and thought about housing prices in Svenstrup and the 9230 zip code in general. Questions like <i>How do prices vary between different neighborhoods? Which neighborhood is the most expensive? Are there significant differences in sq.meter prices between e.g. Svenstrup and Godthåb? </i> came to mind. I thought a fun way to gain some insight would be to create an interactive map of housing prices which will be the aim of this post.

<br>
<br>

<iframe src="https://madsboending.shinyapps.io/parkingviolations/" style="border: none; width: 800px; height: 500px"></iframe>


<br>
&nbsp;
<ul style="list-style-type:square">
  <li>Years 1992 till 2014</li>
  <li>Zipcode 9230</li>
  <li>Housetype: Country house(landejendom), Villa, Apartments (ejerlejlighed), townhouse (rækkehus) </li>
  <li>Ordinary free sale</li>
</ul>


<img src="https://raw.githubusercontent.com/madsboending/madsboending.github.io/master/assets/img/cphparking.png" alt="map">

I scraped and downloaded the search results using import.io's web crawler and after a bit of data cleaning I ended up with a dataset of 1565 observations/house sales within the specified period and criteria. Note that there is a discrepancy between the number of search results returned by Boliga and the number of sales extracted by the web crawler and the 1565 extracted observations will roughly represent about 85% of the actual number of sales in the period (I didn't bother tweaking the scraper or trying other tools to see if it would increase performance). The dataset contains variables <i>Address, Price, Date of sale, Type of sale, Price pr. sq.meter, Number of rooms, Sq.meter size, Housing type, Year of construction, Price reduction in percent. </i> Moreover, the data only contains the latest sale e.g. if Jættestuen 17 were sold in both 1998 and 2006 then only the 2006 sale is included in the data

<br>
<br>

With the sales data secured, the next step is to collect latitude and longitude coordinates for each address in the sales data in order to plot them on a map. The Danish Ministry of Housing, Urban and Rural Affairs <i>(Ministeriet for by, Bolig og Lansddistrikter)</i> maintains a database of all addresses in Denmark where each address is assigned with corresponding latitude and longitude coordinates. The adresses for each of the 98 municipalties and 5 regions can be found <a href="http://download.aws.dk/adresser">here.</a> By merging the addresses and the sales dataset we are able to map each sale based on latitude and longitude coordinates using R and Christian Grauls <a href="https://github.com/chgrl" class="user-mention">@chgrl</a> LeafletR package.

<br>
<br>



<br>
<br>

A bit of data wrangling and the map above magically appears. Each sale is adjusted for inflation and calculated in 2014 prices. Note that the calculated 2014-price for a given house sold in e.g. 1995 isn't an prediction of the present value of that house. Obviously, a lot of other factors affects housing prices,  such as home improvements for example. This means that the calculated 2014-prices solely illustrates what a given home sold in 1995 would cost in 2014-prices keeping all other things equal. Every sale is categorized into percentiles based on the 2014-price e.g. 90-100% represents the top 10% most expensive sales in 2014-prices and 25-75% represents the middle 50% of all sales based on 2014-prices. <i>(Mapping the prices pr. squaremeter results in very similar map and is therefore left out.You can click each datapoint to see the price pr. squaremeter for each sale.) </i>

<br>
<br>

Zooming in on Svenstrup/Godthåb, a visual inspection reveals clear clusters of red dots centered around <i>Svenstruphøj, Asgården, Midgården, Lunden and Birkagervænget</i>. This suggest that these are the most expensive neighborhoods in Svenstrup/Godthåb measured in 2014-prices.Unfortunately, the data provided by Boliga doesn't identify building plots, but by using the sales date and the built date it's possible to subset the data and get a fairly accurate idea of where the building plots were located within the depicted period. It turns out that pretty much every building plot in Svenstrup/Godthåb is located in exactly the five neighborhoods mentioned above - i.e. it's the newly established neighborhoods that are raking in the highest prices <i> Well, proximity to Svanemølleparken and having lakeview also seems to be correlated with higher prices</i>. Moreover, the large majority of building plots in the entire 9230 zip code were located in Svenstrup or Godthåb, which might suggest that out of the five cities in 9230 Svenstrup and Godthåb are experiencing the highest growth. <i>(building plots are removed from the map above)</i>

<br>
<br>

The boxplot below illustrates 2014-prices pr. squaremeter for each city. The red diamond marks the mean price in each city. Both median and mean price in Svenstrup and Godthåb appears to be greater than the 3 other cities and furthermore, Svenstrup holds a small price advantage over Godthåb in 2014-prices.    

<br>
<br>

On another note, one migth be curios of where the most expensive homes are located. Gultentorpvej 81 holds the highest pricetag in the data with a price of 18,5 mio.kr. but it's actually a huge farm and perhaps more a commercial building than a privat residens. If I do my best at weeding out these types of commercial sales the top-5 most expensive homes in 9230 is <i>(in unadjusted prices)</i>:

<br>
<br>


<br>
<br>

Well, I don't know usefull the information is, but it's been an fun exercise...

<br>
<br>

<div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES * * */
    var disqus_shortname = 'madsboending';

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
